(function(a,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(a=typeof globalThis<"u"?globalThis:a||self,i(a["mem-sdk"]={}))})(this,function(a){"use strict";const i="https://mem-cli-server-482a8c7c1299.herokuapp.com/mem-cli";function d(c,t){const e=c.split("").map(o=>o.charCodeAt(0)),n={contractOwner:"",contentType:"application/javascript",contractSrc:e,initState:t},s=[{name:"Content-Type",value:"application/javascript"},{name:"Owner",value:""},{name:"App-Name",value:"EM"},{name:"Type",value:"Serverless-Function"},{name:"EM-Bundled",value:"true"},{name:"Size",value:String(e.length)}];return{dataTx:n,tags:s}}class l{async readFunction(t){const e=`https://api.mem.tech/api/state/${t}`,s=await fetch(e,{headers:{"Content-Type":"application/json"}});if(s.ok)return await s.json();throw new Error(s.statusText)}async writeFunction(t,e){const n="https://api.mem.tech/api/transactions",u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({functionId:t,inputs:[{input:e}]})},r=await fetch(n,u);if(r.ok)return await r.json();throw new Error(r.statusText)}async deployFunction(t,e){const n=JSON.stringify(d(t,e)),o=await fetch(i,{method:"post",url:i,body:n,headers:{Accept:"application/json","Content-Type":"application/json"},maxContentLength:1e8,maxBodyLength:1e9});if(o.ok)return{id:(await o.json()).txid};throw new Error(o.statusText)}}class p extends l{async read(t){return await this.readFunction(t)}async write(t,e){return await this.writeFunction(t,e)}async deploy(t,e){return await this.deployFunction(t,e)}}class h extends p{}a.Actions=p,a.Mem=h,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
